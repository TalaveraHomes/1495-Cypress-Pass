<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>1495 Cypress Pass ‚Ä¢ Talavera Homes</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --ink:#1f1f1f; --nav:#c0802c; --navHover:#000050; --brand:#000050; --paper:#fffdf9;
      --card:#fff; --line:#eee5d9;
    }
    *{box-sizing:border-box}
    body{font-family:'Roboto',sans-serif;margin:0;color:var(--ink);background:var(--paper)}

    header{
      position:relative;height:90vh;display:flex;align-items:center;justify-content:center;
      text-align:center;color:#fff;background:#222 center/cover no-repeat;
    }
    header::before{content:"";position:absolute;inset:0;background:rgba(0,0,80,.25)}
    header .content{position:relative;z-index:1;background:rgba(192,128,44,.60);padding:1rem 2rem;border-radius:8px}
    header a.logo-link{position:absolute;top:20px;left:20px;z-index:2}
    header img.logo{height:100px;display:block}

    nav{display:flex;flex-wrap:wrap;justify-content:center;background:var(--nav)}
    nav a{color:#fff;text-decoration:none;padding:1rem;font-weight:700}
    nav a:hover{background:var(--navHover)}

    .container section{display:none;max-width:1100px;margin:auto;padding:2rem}
    .container section.active{display:block}
    h2{color:var(--brand);margin-top:0}

    .pdf-frame{width:100%;height:80vh;border:0;background:#fff;box-shadow:0 0 0 1px #eee inset}

    .contact-links a,.referral-form button{
      display:inline-block;margin:.5rem 1rem .5rem 0;padding:.75rem 1.25rem;
      background:var(--brand);color:#fff;text-decoration:none;border-radius:6px;font-weight:700;border:0;cursor:pointer
    }
    .contact-links a:hover,.referral-form button:hover{background:var(--nav)}

    footer{background:var(--brand);color:#fff;text-align:center;padding:1rem}

    form input,form textarea{width:100%;padding:.75rem;margin:.75rem 0;border:1px solid #ccc;border-radius:4px}

    /* selections UI */
    .selections-toolbar{display:flex;gap:.75rem;align-items:center;flex-wrap:wrap;margin-bottom:1rem}
    .chip{display:inline-block;padding:.4rem .8rem;border-radius:999px;border:1px solid var(--line);background:#fffaf2;font-weight:700;color:var(--brand)}
    .muted{color:#5a5a5a;font-size:.95rem}

    .gallery{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .card{background:var(--card);border:1px solid var(--line);border-radius:12px;overflow:hidden;box-shadow:0 2px 12px rgba(0,0,0,.04)}
    .thumb{position:relative;height:160px;background:#f5f2ed;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .thumb .overlay{position:absolute;inset:0;background:rgba(0,0,0,.45);color:#fff;opacity:0;display:flex;align-items:center;justify-content:center;text-align:center;padding:10px;font-weight:700;transition:opacity .15s}
    .card:hover .overlay{opacity:1}
    .placeholder{font-weight:700;color:var(--brand);text-transform:uppercase;font-size:.95rem;padding:0 10px;text-align:center}
    .info{padding:12px 14px 14px}
    .title{font-weight:700;color:var(--brand);margin:0 0 6px}
    .links a{font-size:.92rem;color:var(--brand);text-decoration:none;border-bottom:1px dashed var(--brand)}
    .links a:hover{color:var(--nav);border-bottom-color:var(--nav)}
    .selections-list{margin-top:1.25rem;border-top:1px solid var(--line);padding-top:1rem}
    .selections-list li{padding:.4rem 0;border-bottom:1px dashed var(--line)}
  </style>
</head>
<body>

  <header id="hero">
    <a href="./" class="logo-link" aria-label="Talavera Homes">
      <img id="logoImg" src="" alt="Talavera Homes Logo" class="logo">
    </a>
    <div class="content">
      <h1>Welcome to Your New Talavera Home</h1>
      <p>From our family to yours ‚Äî thank you for choosing Talavera Homes.</p>
    </div>
  </header>

  <nav>
    <a href="#handbook" data-section="handbook">Homeowner Handbook</a>
    <a href="https://www.nationalbuildergroup.com/builder/talavera-homes/service/" target="_self" rel="noopener">Service Request</a>
    <a href="#selections" data-section="selections">Home Selections</a>
    <a href="#tips" data-section="tips">Helpful Tips</a>
    <a href="#referral" data-section="referral">Referral Program</a>
    <a href="#contact" data-section="contact">Contact Us</a>
  </nav>

  <div class="container">
    <section id="handbook" class="active">
      <h2>Homeowner Handbook</h2>
      <iframe class="pdf-frame" id="handbookFrame" src="" title="Talavera Homes Homeowner Handbook"></iframe>
      <p style="margin-top:1rem;">Having trouble viewing?
        <a id="handbookLink" href="">Open the PDF directly</a>.
      </p>
    </section>

    <section id="referral">
      <h2>Referral Program</h2>
      <form action="mailto:Eric@Talavera-homes.com,Cindystensrudrealtor@gmail.com?subject=Client%20Website%20Referral" method="post" enctype="text/plain" class="referral-form">
        <input type="text" name="Your Name" placeholder="Your Name" required>
        <input type="text" name="Your Address" placeholder="Your Address" required>
        <input type="text" name="Referral Name" placeholder="Referral's Name" required>
        <input type="tel" name="Referral Phone" placeholder="Referral's Phone Number" required>
        <input type="email" name="Referral Email" placeholder="Referral's Email Address" required>
        <textarea name="Referral Details" placeholder="Describe what your referral is looking for in a home and where they are currently looking" rows="5" required></textarea>
        <button type="submit">Submit Referral</button>
      </form>
    </section>

    <section id="selections">
      <h2>Home Selections</h2>
      <div class="selections-toolbar">
        <span class="chip">Your chosen finishes & fixtures</span>
        <span class="muted">Hover a tile to see the note. Click ‚ÄúDetails‚Äù for product info.</span>
      </div>

      <div id="selectionsGallery" class="gallery"></div>
      <ul id="selectionsList" class="selections-list"></ul>
      <p class="muted" style="margin-top:1rem;">You can place images in the repo **root** or in **/selections/**. Any of
        <code>.jpg</code>, <code>.jpeg</code>, or <code>.png</code> (any capitalization) will be found automatically.</p>
    </section>

    <section id="tips"><h2>Helpful Tips</h2><p>Coming soon.</p></section>

    <section id="contact">
      <h2>Contact Us</h2>
      <div class="contact-links">
        <a href="tel:2109003353">üìû Call Us</a>
        <a href="sms:2109003353">üí¨ Text Us</a>
        <a href="mailto:service@talavera-homes.com">‚úâÔ∏è Email Us</a>
      </div>
      <p><strong>Phone:</strong> 210-900-3353<br>
         <strong>Text:</strong> 210-900-3353<br>
         <strong>Email:</strong> service@talavera-homes.com</p>
    </section>
  </div>

  <footer>&copy; 2025 Talavera Homes. All rights reserved.</footer>

  <!-- Your selections data (filenames can be any case and any of .jpg/.jpeg/.png) -->
  <script type="application/json" id="selections-data">[
    { "name": "Exterior Paint", "note": "Sherwin Williams SW7005 Pure White", "link": "https://www.sherwin-williams.com/en-us/color/color-family/white-paint-colors/sw7005-pure-white", "image": "exterior-paint.jpg" },
    { "name": "Exterior Trim", "note": "Sherwin Williams SW7005 Pure White", "link": "https://www.sherwin-williams.com/en-us/color/color-family/white-paint-colors/sw7005-pure-white", "image": "exterior-trim.jpg" },
    { "name": "Interior Paint", "note": "Sherwin Williams SW7029 Agreeable Gray", "link": "https://www.sherwin-williams.com/en-us/color/color-family/neutral-paint-colors/SW7029-agreeable-gray", "image": "interior-paint.jpg" },
    { "name": "Interior Trim Paint", "note": "Sherwin Williams SW7005 Pure White", "link": "https://www.sherwin-williams.com/en-us/color/color-family/white-paint-colors/sw7005-pure-white", "image": "interior-trim-paint.jpg" },
    { "name": "Stain", "note": "Sherwin Williams SW3522SS Banyon Brown", "link": "https://www.sherwin-williams.com/homeowners/color/find-and-explore-colors/paint-colors-by-family/SW3522SS-banyan-brown", "image": "stain.jpg" },
    { "name": "Carpet", "note": "Shaw Venture Total- Windy City", "link": "https://shawpropertysolutions.com/pdp/carpets/venture-tonal/windy-city/pz056-00521", "image": "carpet.jpg" },
    { "name": "LVP", "note": "Shaw Optimum 512C Plus- Spalted Maple", "link": "https://shawbuilderflooringsf.com/pdp/resilient/optimum-512c-plus/spalted-maple/VE210-02084", "image": "lvp.jpg" },
    { "name": "Wall tile", "note": "Emser Cabo- Shore", "link": "https://www.emser.com/products/cabo?variant=39461269110897", "image": "Wall-tile.jpg" },
    { "name": "Backsplash", "note": "Emser Catch Matte- Ice", "link": "https://www.emser.com/products/catch-matte?variant=39763678232689", "image": "Backsplash.jpg" },
    { "name": "Range", "note": "GE 30\" 4 burner SS Range", "link": "https://www.homedepot.com/p/GE-30-in-4-Burner-Element-Free-Standing-Electric-Range-in-Stainless-Steel-w-Stainless-Knobs-GRF40HSVSS/329011820", "image": "range.jpg" },
    { "name": "Microwave", "note": "GE 1.6 cu. Ft. SS Microwave", "link": "https://www.homedepot.com/p/GE-1-6-cu-ft-Over-the-Range-Microwave-in-Stainless-Steel-JVM3160RFSS/204394354", "image": "microwave.jpg" },
    { "name": "Dishwasher", "note": "GE Built-in Tall Tub SS w/ sanitize", "link": "https://www.homedepot.com/p/GE-24-in-Built-In-Tall-Tub-Top-Control-Stainless-Steel-Dishwasher-w-Sanitize-Dry-Boost-52-dBA-GDT550PYRFS/317761281", "image": "dishwasher.jpg" },
    { "name": "Cabinets", "note": "Northpoint- Catalina -Polar White", "link": "https://www.hardwareresources.com/northpoint-cabinets", "image": "cabinets.jpg" },
    { "name": "Countertop", "note": "", "link": "", "image": "" },
    { "name": "Ceiling Fans", "note": "Progress Trevina II 52\" Fan", "link": "https://progresslighting.com/products/trevina-ii-collection-52in-three-blade-ceiling-fan-p2553", "image": "fans.jpg" },
    { "name": "Vanity Lights", "note": "Progress Merry Matte Black", "link": "https://progresslighting.com/products/merry-collection-three-light-etched-white-glass-bath-vanity-wall-light-p300329", "image": "vanity-light.jpg" },
    { "name": "Exterior Lights", "note": "Progress Whitmore Matte Black", "link": "https://progresslighting.com/products/whitmire-collection-one-light-with-clear-seeded-glass-outdoor-wall-lantern-light-p560282", "image": "exterior-lights.jpg" },
    { "name": "Dining Room Light", "note": "Progress Replay", "link": "https://progresslighting.com/products/replay-collection-five-light-etched-white-glass-chandelier-light-p4319", "image": "dining-room-light.jpg" },
    { "name": "Front Door Hardware", "note": "Schlage Century with Latitude Handle", "link": "https://www.homedepot.com/p/319938200", "image": "front-door-hardware.jpg" },
    { "name": "Door Hardware", "note": "Schlage Latitude Matte Black", "link": "https://www.homedepot.com/p/310640472", "image": "door-hardware.jpg" },
    { "name": "Towel Ring", "note": "Gatco Latitude II -Matte Black", "link": "https://www.homedepot.com/p/300147451", "image": "towel-ring.jpg" },
    { "name": "Towel Bar", "note": "Glacier Bay Dorind- Matte Black", "link": "https://www.homedepot.com/p/322302855", "image": "towel-bar.jpg" },
    { "name": "Cabinet Hardware", "note": "5-1/6\" Matte Black Cabinet Pull", "link": "https://www.homedepot.com/p/321239025", "image": "cabinet-hardware.jpg" }
  ]</script>

  <script>
    /* ------------------ Utility: robust asset finder ------------------ */
    const EXT_LIST = [".jpg",".jpeg",".png",".JPG",".JPEG",".PNG"];

    function withExtVariants(path){
      // if already has an extension, try it plus alternates swapped
      const dot = path.lastIndexOf(".");
      if (dot > 0) {
        const base = path.slice(0,dot);
        const origExt = path.slice(dot);
        const alts = [origExt, ...EXT_LIST.filter(e => e.toLowerCase() !== origExt.toLowerCase())];
        return alts.map(e => base + e);
      }
      return EXT_LIST.map(e => path + e);
    }

    function uniq(arr){ return [...new Set(arr)]; }

    function candidatePaths(input){
      // Accept "foo", "foo.jpg", "selections/foo.JPG" etc.
      if (!input) return [];
      const trimmed = input.trim();

      const hasSlash = trimmed.includes("/");
      const nameOnly = trimmed.split("/").pop();
      const noExtVariants = uniq([
        trimmed.replace(/\\/g,"/"),
        trimmed.toLowerCase(),
        nameOnly,
        nameOnly.toLowerCase()
      ]);

      // locations to try: exact dir, root, selections/
      const bases = [];
      noExtVariants.forEach(b=>{
        if (hasSlash) bases.push(b);
        bases.push(b);
        if (!b.startsWith("selections/")) bases.push("selections/" + b);
      });

      // expand extensions for each base
      const expanded = [];
      bases.forEach(b => expanded.push(...withExtVariants(b)));

      // plus: if original had an extension, include it first (exact)
      if (/\.[a-zA-Z]+$/.test(trimmed)) {
        expanded.unshift(trimmed);
        if (!trimmed.startsWith("selections/")) expanded.unshift("selections/" + trimmed);
      }

      return uniq(expanded);
    }

    function loadBestImage(imgEl, desiredPath, fallbackLabel){
      const tries = candidatePaths(desiredPath);
      let i=0;

      function tryNext(){
        if (i>=tries.length) {
          // show placeholder
          const holder = document.createElement('div');
          holder.className='placeholder';
          holder.textContent = fallbackLabel || 'Image';
          imgEl.replaceWith(holder);
          return;
        }
        const src = tries[i++];
        imgEl.src = src;
        imgEl.onload = ()=>{}; // success
        imgEl.onerror = tryNext;
      }
      tryNext();
    }

    /* ------------------ Section routing ------------------ */
    function showSection(id){
      document.querySelectorAll('.container section').forEach(s=>s.classList.remove('active'));
      const el = document.getElementById(id); if (el) el.classList.add('active');
      if (history.pushState) history.pushState(null,"","#"+id);
    }

    /* ------------------ Selections render ------------------ */
    function renderSelections(items){
      const gallery = document.getElementById('selectionsGallery');
      const list = document.getElementById('selectionsList');
      gallery.innerHTML=''; list.innerHTML='';

      items.forEach(it=>{
        const name = it.name || 'Selection';
        const note = it.note || '';
        let link = (it.link||'').trim();
        if (link && !/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(link)) link = 'https://' + link;

        const card = document.createElement('article'); card.className='card';
        if (link) card.addEventListener('click',()=>window.open(link,'_blank','noopener'));

        const thumb = document.createElement('div'); thumb.className='thumb';
        const img = document.createElement('img'); img.loading='lazy'; img.alt=name;
        thumb.appendChild(img);
        const ov = document.createElement('div'); ov.className='overlay'; ov.textContent = note || 'Details';
        thumb.appendChild(ov);
        card.appendChild(thumb);

        const info = document.createElement('div'); info.className='info';
        info.innerHTML = `<p class="title">${name}</p>${link?`<div class="links"><a href="${link}" target="_blank" rel="noopener">Details</a></div>`:''}`;
        card.appendChild(info);
        gallery.appendChild(card);

        const li = document.createElement('li');
        li.innerHTML = `<strong>${name}</strong>${note?` ‚Äî ${note}`:''}${link?` <a href="${link}" target="_blank" rel="noopener">(details)</a>`:''}`;
        list.appendChild(li);

        const desired = (it.image||'').trim() || name;
        loadBestImage(img, desired, name);
      });
    }

    /* ------------------ Boot ------------------ */
    document.addEventListener('DOMContentLoaded', ()=>{
      // Nav clicks
      document.querySelectorAll('a[data-section]').forEach(a=>{
        a.addEventListener('click',e=>{e.preventDefault();showSection(a.getAttribute('data-section'));});
      });
      if (location.hash) {
        const id = location.hash.slice(1);
        if (document.getElementById(id)) showSection(id);
      }

      // Robust PDF src
      const pdfName = 'Talavera Homes Homeowner Handbook.pdf';
      const pdfEncoded = encodeURI(pdfName);
      document.getElementById('handbookFrame').src = pdfEncoded + '#view=FitH&toolbar=1&navpanes=0';
      document.getElementById('handbookLink').href = pdfEncoded;

      // Robust logo + hero image
      const logoImg = document.getElementById('logoImg');
      loadBestImage(logoImg, 'Gold_Talavera_Logo.png', 'Talavera Homes');

      // Hero background (tries 195410.jpg/.jpeg/.png in root or /selections)
      const hero = document.getElementById('hero');
      (function setHero(){
        const candidates = (function(){
          const c1 = candidatePaths('195410.jpeg');
          const c2 = candidatePaths('195410');
          return [...new Set([...c1, ...c2])];
        })();
        let i=0;
        function next(){
          if (i>=candidates.length) return;
          const test = new Image();
          const src = candidates[i++]; test.src = src;
          test.onload = ()=>{ hero.style.backgroundImage = `url('${src}')`; };
          test.onerror = next;
        }
        next();
      })();

      // Selections
      try{
        const arr = JSON.parse(document.getElementById('selections-data').textContent.trim()||'[]');
        renderSelections(Array.isArray(arr)?arr:[]);
      }catch(e){ renderSelections([]); }
    });
  </script>
</body>
</html>

